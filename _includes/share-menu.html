<script>
    function clickShareItemLink(item, url) {
        window.open(url, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0');

        window.Analytics.event({
            category: 'Share Menu - Click Item',
            action: item
        });
    }
</script>

<div class="action-button share-viz-button popup">
    <span class="viz-share-icon" aria-hidden="true">
        {% include svgs/share.svg %}
    </span>
    Share
    <span class="popuptext right" id="sharePopup">
        <div class="share-buttons">
            <ul>
                <li>
                    <a href="javascript:clickShareItemLink('Facebook', 'https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ site.baseurl }}{{ page.url }}')" title="Share on Facebook">
                        {% include svgs/facebook_square_x.svg class="share-icon icon-facebook" %}
                        <span class="share-button-text">Facebook</span>
                    </a>
                </li>
                <li>
                    {% if page.socialMediaText %}
                    {% assign twitterVariable = page.socialMediaText %}
                    {% else %}
                    {% assign twitterVariable = page.title %}
                    {% endif %}
                    <a href="javascript:clickShareItemLink('Twitter', 'https://twitter.com/intent/tweet?text='+encodeURIComponent('{{ twitterVariable }}')+'&url={{ site.url }}{{ site.baseurl }}{{ page.url }}')" title="Share on Twitter">
                        {% include svgs/twitter_square_x.svg class="share-icon icon-twitter" %}
                        <span class="share-button-text">Twitter</span>
                    </a>
                </li>
                <li>
                    <a href="javascript:clickShareItemLink('Reddit', 'http://www.reddit.com/submit?url={{ site.url }}{{ site.baseurl }}{{ page.url }}')" title="Share on Reddit">
                        {% include svgs/reddit.svg class="share-icon icon-reddit" %}
                        <span class="share-button-text">Reddit</span>
                    </a>
                </li>
                <li>
                    <a href='javascript:clickShareItemLink("Linkedin", "https://www.linkedin.com/shareArticle?mini=true&url={{ site.url }}{{ site.baseurl }}{{ page.url }}")' title="Share on LinkedIn">
                        {% include svgs/linkedin_square_x.svg class="share-icon icon-linkedin" %}
                        <span class="share-button-text">Linkedin</span>
                    </a>
                </li>
                <li>
                    <a href="mailto:?subject={{ page.title }}&amp;body=Check out this site {{ site.url }}{{ site.baseurl }}{{ page.url }}" title="Share via Email">
                        {% include svgs/envelope.svg class="share-icon icon-envelope" %}
                        <span class="share-button-text">Email</span>
                    </a>
                </li>
            </ul>
        </div>
    </span>
</div>